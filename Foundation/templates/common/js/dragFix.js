function DragFix(container){var __recoupLeft;var __recoupTop;var __scale;var __dx;var __dy;var __$container=container;this.startDrag=function($this,ui){var left=parseInt($this.css('left'),10);left=isNaN(left)?0:left;var top=parseInt($this.css('top'),10);top=isNaN(top)?0:top;__recoupLeft=left-ui.position.left;__recoupTop=top-ui.position.top}
this.drag=function(ui){__scale=__$container.css('transform').split('(')[1].split(',')[0];__dx=ui.position.left-ui.originalPosition.left;__dy=ui.position.top-ui.originalPosition.top;ui.position.left=ui.originalPosition.left+(__dx/__scale);ui.position.top=ui.originalPosition.top+(__dy/__scale);ui.position.left+=__recoupLeft;ui.position.top+=__recoupTop}
this.dragRestrict=function(ui){var w1=ui.helper.outerWidth();var h1=ui.helper.outerHeight();w2=__$container.width();h2=__$container.height();ui.position.left=Math.max(Math.min(ui.position.left,w2-w1),0);ui.position.top=Math.max(Math.min(ui.position.top,h2-h1),0)}}